<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>SDRC</title>
    <link rel="stylesheet" href="/styles/main.min.css">
  </head>
  <body>
  <main class="paper-main">
      <h1>Speculative Decomposition with Residue Correction (SDRC)</h1>
      <div id="content">Loading...</div>
    </main>
    <script src="/scripts/futuristic-charts.js" defer></script>
    <script>
      function loadScript(src){
        return new Promise((res, rej)=>{
          const s = document.createElement('script');
          s.src = src;
          s.onload = res;
          s.onerror = () => rej(new Error('Failed to load '+src));
          document.head.appendChild(s);
        });
      }
      function ensureMarked(){
        if(window.marked) return Promise.resolve();
        return loadScript('/scripts/marked.min.js');
      }

      fetch('Speculative Decomposition with Residue Correction (SDRC)_ A Paradigm for Parallel Reasoning in AI Models.md')
        .then(r=>r.text())
        .then(md=>{
            const sanitized = md.replace(/!\[[^\]]*\]\([^\)]+\)/g, ()=>'\n<div data-fchart></div>\n');
            return ensureMarked().then(()=>({ sanitized }));
        })
        .then(({ sanitized })=>{
            const html = (marked.parse?marked.parse(sanitized):marked(sanitized));
            document.getElementById('content').innerHTML = html;
            if(window.renderFuturisticCharts) window.renderFuturisticCharts(document.getElementById('content'));
        })
        .catch(err => { console.error('Failed to load paper:', err); document.getElementById('content').textContent = 'Failed to load paper.'; });
    </script>
  </body>
</html>
